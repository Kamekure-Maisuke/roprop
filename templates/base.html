<!doctype html>
<html lang="ja" data-theme="light">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{% block title %}„É™„ÇΩ„Éº„ÇπÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†{% endblock %}</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
        <script src="https://unpkg.com/lucide@latest"></script>
        <style>
            nav {
                padding: 0.5rem 1rem;
            }
            nav ul li {
                margin-right: 0.5rem;
            }
            .nav-icon {
                width: 18px;
                height: 18px;
                vertical-align: middle;
                margin-right: 4px;
            }
            .dropdown {
                position: relative;
                display: inline-block;
            }
            .dropdown-content {
                display: none;
                position: absolute;
                background-color: var(--pico-background-color);
                min-width: 180px;
                box-shadow: 0 8px 16px rgba(0,0,0,0.2);
                z-index: 1;
                border-radius: 4px;
                border: 1px solid var(--pico-muted-border-color);
                margin-top: 0.5rem;
            }
            .dropdown-content a {
                color: var(--pico-color);
                padding: 0.75rem 1rem;
                text-decoration: none;
                display: block;
                transition: background-color 0.2s;
            }
            .dropdown-content a:hover {
                background-color: var(--pico-secondary-background);
            }
            .dropdown:hover .dropdown-content {
                display: block;
            }
            .dropdown > a {
                cursor: pointer;
            }
            .search-form {
                margin: 0;
                display: flex;
                align-items: center;
            }
            .search-form input {
                margin: 0;
                padding: 0.25rem 0.5rem;
                width: 150px;
                font-size: 0.9rem;
            }
            @media (max-width: 768px) {
                nav ul li {
                    margin-right: 0.25rem;
                }
                .nav-text {
                    display: none;
                }
                .search-form input {
                    width: 100px;
                }
            }
        </style>
        {% block extra_head %}{% endblock %}
    </head>
    <body>
        <nav>
            <ul>
                <li><strong>„É™„ÇΩ„Éº„ÇπÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†</strong></li>
            </ul>
            <ul>
                <li>
                    <a href="/dashboard">
                        <i data-lucide="layout-dashboard" class="nav-icon"></i>
                        <span class="nav-text">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</span>
                    </a>
                </li>
                <li class="dropdown">
                    <a>
                        <i data-lucide="folder-cog" class="nav-icon"></i>
                        <span class="nav-text">ÁÆ°ÁêÜ</span>
                        <i data-lucide="chevron-down" style="width: 14px; height: 14px; vertical-align: middle;"></i>
                    </a>
                    <div class="dropdown-content">
                        <a href="/pcs/view">
                            <i data-lucide="monitor" class="nav-icon"></i> PCÁÆ°ÁêÜ
                        </a>
                        <a href="/employees/view">
                            <i data-lucide="users" class="nav-icon"></i> Á§æÂì°ÁÆ°ÁêÜ
                        </a>
                        <a href="/departments/view">
                            <i data-lucide="building" class="nav-icon"></i> ÈÉ®ÁΩ≤ÁÆ°ÁêÜ
                        </a>
                        <a href="/meeting_rooms/view">
                            <i data-lucide="door-open" class="nav-icon"></i> ‰ºöË≠∞ÂÆ§ÁÆ°ÁêÜ
                        </a>
                        <a href="/tags/view">
                            <i data-lucide="tag" class="nav-icon"></i> „Çø„Ç∞ÁÆ°ÁêÜ
                        </a>
                    </div>
                </li>
                <li>
                    <a href="/reservations/view">
                        <i data-lucide="calendar-check" class="nav-icon"></i>
                        <span class="nav-text">‰∫àÁ¥Ñ</span>
                    </a>
                </li>
                <li>
                    <a href="/history/view">
                        <i data-lucide="history" class="nav-icon"></i>
                        <span class="nav-text">Â±•Ê≠¥</span>
                    </a>
                </li>
                <li class="dropdown">
                    <a>
                        <i data-lucide="file-text" class="nav-icon"></i>
                        <span class="nav-text">„Éñ„É≠„Ç∞</span>
                        <i data-lucide="chevron-down" style="width: 14px; height: 14px; vertical-align: middle;"></i>
                    </a>
                    <div class="dropdown-content">
                        <a href="/blogs/view">
                            <i data-lucide="newspaper" class="nav-icon"></i> ÂÖ®„Éñ„É≠„Ç∞
                        </a>
                        <a href="/blogs/my">
                            <i data-lucide="user-pen" class="nav-icon"></i> „Éû„Ç§„Éñ„É≠„Ç∞
                        </a>
                    </div>
                </li>
                <li>
                    <a href="/chat">
                        <i data-lucide="message-circle" class="nav-icon"></i>
                        <span class="nav-text">„ÉÅ„É£„ÉÉ„Éà</span>
                    </a>
                </li>
                <li>
                    <form method="GET" action="/search/view" class="search-form">
                        <input type="search" name="q" placeholder="üîç Ê§úÁ¥¢..." required>
                    </form>
                </li>
                <li>
                    <a href="/mypage">
                        <i data-lucide="user" class="nav-icon"></i>
                        <span class="nav-text">„Éû„Ç§„Éö„Éº„Ç∏</span>
                    </a>
                </li>
                <li>
                    <a href="#" onclick="logout(event)">
                        <i data-lucide="log-out" class="nav-icon"></i>
                        <span class="nav-text">„É≠„Ç∞„Ç¢„Ç¶„Éà</span>
                    </a>
                </li>
            </ul>
        </nav>
        <main class="container">
            {% block content %}{% endblock %}
        </main>
        {% block extra_scripts %}
        <script>
            // „Ç¢„Ç§„Ç≥„É≥„ÅÆÂàùÊúüÂåñ
            lucide.createIcons();

            async function logout(e) {
                e.preventDefault();
                await fetch('/auth/logout', { method: 'POST' });
                location.href = '/auth/login';
            }
        </script>
        {% endblock %}
    </body>
</html>
