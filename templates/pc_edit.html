<!doctype html>
<html lang="ja" data-theme="light">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>PC編集画面</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    </head>
    <body>
        <main class="container">
        <h1>PC編集</h1>

        <form method="POST" action="/pcs/{{ pc.id }}/edit">
            <label>
                名前:
                <input
                    type="text"
                    name="name"
                    value="{{ pc.name }}"
                    required
                />
            </label>

            <label>
                モデル:
                <input
                    type="text"
                    name="model"
                    value="{{ pc.model }}"
                    required
                />
            </label>

            <label>
                シリアル番号:
                <input
                    type="text"
                    name="serial_number"
                    value="{{ pc.serial_number }}"
                    required
                />
            </label>

            <label>
                割り当て先:
                <select name="assigned_to">
                    <option value="" {% if not pc.assigned_to %}selected{% endif %}>未割り当て</option>
                    {% for employee in employees %}
                    <option value="{{ employee.id }}" {% if pc.assigned_to and pc.assigned_to|string == employee.id|string %}selected{% endif %}>
                        {{ employee.name }}
                        {% if employee.department_id and employee.department_id in departments %}
                        ({{ departments[employee.department_id].name }})
                        {% endif %}
                    </option>
                    {% endfor %}
                </select>
            </label>

            <button type="submit">更新</button>
        </form>

        <a href="/pcs/view" role="button" class="secondary">← 一覧に戻る</a>
        </main>
    </body>
</html>
